<!DOCTYPE html>
<html lang="en">

<head>
    <link href="https://fonts.googleapis.com/css?family=Monoton" rel="stylesheet">
    <link href="style.css" rel="stylesheet" type="text/css" />
    <title>coin price</title>

    <style>
        body {
            background-color: #cdcdcd;
        }
    </style>
</head>

<body>
    <div class="Container">
        <div class="Nav">coin price</div>
        <div class="Box">
            <div class="GraphBox">
                <div class="BarChart-bar" onclick="alert('The price of BTC = 56° F');" style="height: 56%">BTC </div>
                <div class="BarChart-bar" onclick="alert('The price of LTC = 61° F');" style="height: 61%">LTC
                </div>
                <div class="BarChart-bar" onclick="alert('The price of ETH = 47° F');" style="height: 47%">ETH
                </div>
                <div class="BarChart-bar" onclick="alert('The price of XLM = 66° F');" style="height: 66%">XLM
                </div>
                <div class="BarChart-bar" onclick="alert('The price of VEN = 74° F');" style="height: 74%">VEN </div>
            </div>
        </div>
        <div class="Footer">
        </div>
        <div class="BottomFoot">
            <button onClick="doFetch()">Update Data</button>
        </div>
        <section id="output">
        </section>
    </div>

    <script>

        console.log('running javascript')
        
        
        

            /* Placeholder data until we add real data... */
/* 

        let state = {
            data: [
                {
                    title: 'Nothing yet...',
                    description: 'Nada...',
                },
            ],
        };

        
/*      
Old function-----  
        function displayOutput() {
            console.log('running display output')
            let output = document.querySelector('#output');
            output.innerHTML = '';
            for (let film of state.data) {
                output.innerHTML += `
                    <h1>${film.id}</h1>
                    <p>${film.rates}</p>
                `;
            }
        }
*/

let state = [];


        function displayOutput() {
            console.log('running display output function!')
            console.log(state)
            for (let x of state.data) {
                console.log('the for loop is running');
                document.getElementById("output").innerHTML = state[2];
            }



        }

        function doFetch() {
            fetch('https://api.coinlore.com/api/tickers/')
                .then(response => response.json())
                .then(data => {
                    console.log('i fetched the data!')
                    console.log(data);
                    state = data;
                    
                    displayOutput();
                });
        }

    </script>
</body>

</html>